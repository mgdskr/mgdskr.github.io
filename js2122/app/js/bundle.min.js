"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function homework1(){var e=getNumber("Введите число:"),t=getNumber("Введите степень:");myPow(e,t)}function getNumber(e){for(var t=prompt(e,"");isNaN(t);)alert("Это не число"),t=prompt(e,"");return t}function myPow(e,t){var n=1;t%1!==0&&(t=Math.round(t),console.log("Функция не рабоает с дробными степенями, степень будет округлена до "+t));for(var r=t>0?t:Math.abs(t),s=0;s<r;s++)n*=e;return t<0&&(n=1/n),n}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();!function(){var e={title:"Тест",questions:[{title:"Язык frontend разработки",answerOptions:["JavaScript","PHP","Ruby","Java"]},{title:"Что такое jQuery",answerOptions:["фреймворк","библиотека","язык программирования"]},{title:"Укажите все менеджеры задач (task-runners)",answerOptions:["Gulp","Grunt","Git"]}],submitValue:"Проверить результаты!",rightAnswers:"123"},t=localStorage;t.test=JSON.stringify(e);var n=(JSON.parse(t.getItem("test")),function(){function e(t){var n=t.title,r=void 0===n?"Test":n,s=t.questions,i=t.submitValue,a=void 0===i?"Check results!":i,o=t.rightAnswers;_classCallCheck(this,e),this.title=r,this.questions=s,this.submitValue=a,this.rightAnswers=o,this.userAnswers=[],this.body=document.body,this.form="",this.renderTest(),this.createAnswersEmptyObj(),this.checkboxHandler(),this.submitHandler()}return _createClass(e,[{key:"renderTest",value:function(){var e="<h1>"+this.title+'</h1>\n            <form method="POST" action="#">\n                <ol>\n                    '+this.questions.map(function(e,t){return"\n                        <li>\n                            <h2>"+e.title+"</h2>\n                            <ul>\n                                "+e.answerOptions.map(function(e,n){return'\n                                    <li><label><input type = "checkbox" name = "q'+t+'" value = "o'+n+'">\n                                    <span>'+e+"</span>\n                                    </label></li>"}).join("")+"\n                            </ul>\n                        </li>"}).join("")+'\n                </ol>\n                <input type="submit" value="'+this.submitValue+'">\n            </form>',t=document.createElement("div");t.classList.add("test"),t.innerHTML=e,this.body.insertBefore(t,this.body.firstChild),this.form=t.querySelector("form")}},{key:"createAnswersEmptyObj",value:function(){for(var e=0,t=this.questions.length;e<t;e++){var n=this.questions[e];this.userAnswers[e]=[];for(var r=0,s=n.answerOptions.length;r<s;r++)this.userAnswers[e].push(0)}}},{key:"checkboxHandler",value:function(){var e=this;this.form.addEventListener("click",function(t){if("INPUT"===t.target.tagName&&"checkbox"===t.target.type){var n=e.userAnswers[t.target.name.slice(1)],r=n.length-1-t.target.value.slice(1);n[r]=0===n[r]?1:0}})}},{key:"submitHandler",value:function(){var e=this;this.form.querySelector('input[type="submit"]').addEventListener("click",function(t){for(var n="",r=0,s=e.userAnswers.length;r<s;r++){var i=parseInt(e.userAnswers[r].join(""),2);n+=i}e.renderModalWindow(n===e.rightAnswers?"Вы успешно прошли тест!":"Попробуйте еще раз"),e.resetData(),t.preventDefault()})}},{key:"renderModalWindow",value:function(e){var t=this,n=document.createElement("div");n.classList.add("modal-window"),n.innerHTML='<div class="modal-window__inner">'+e+"<div/>",this.body.appendChild(n),n=document.querySelector(".modal-window"),n.addEventListener("click",function(e){t.body.removeChild(n)})}},{key:"resetData",value:function(){this.form.querySelectorAll('input[type="checkbox"]').forEach(function(e){return e.checked=!1}),this.createAnswersEmptyObj()}}]),e}());new n(e)}();try{module.exports=myPow}catch(e){}